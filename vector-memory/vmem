#!/bin/bash
# Vector Memory CLI wrapper
# Usage: vmem search "query" | vmem add "text" | vmem ingest | vmem stats

cd "$(dirname "$0")"
source venv/bin/activate

case "$1" in
    search|s)
        shift
        python memory_store.py search "$@" 2>/dev/null
        ;;
    add|a)
        shift
        python memory_store.py add "$@" 2>/dev/null
        ;;
    ingest|i)
        python ingest_memories.py 2>/dev/null
        ;;
    stats)
        python memory_store.py stats 2>/dev/null
        ;;
    *)
        echo "Usage: vmem <command> [args]"
        echo ""
        echo "Commands:"
        echo "  search <query> [k]  - Search memories semantically"
        echo "  add <text> [source] - Add a memory"
        echo "  ingest              - Sync memories from ~/clawd/memory/"
        echo "  stats               - Show index statistics"
        ;;
esac
